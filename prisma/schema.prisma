// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model funcionario{
  id Int @id @default(autoincrement()) @unique
  nome String
  email String @unique
  cpf String @unique
  telefone Int
  vendas Int
  data_cadastro DateTime @default(now())
  senha String
  pedidos pedido[]
  mesas mesa[]
  produtos produto[]
  relatorios relatorio[]
}

model produto{
  id Int @id @default(autoincrement()) @unique
  preco Int
  nome String
  disponibilidade String
  vendidos Int
  categoriaId Int
  categoria categoria @relation(fields: [categoriaId], references: [id])
  pedidos pedido[]
  funcionarios funcionario[]
}

model categoria{
  id Int @id @default(autoincrement()) @unique
  nome String
  produtos produto[]
}

model mesa{
  id Int @id @default(autoincrement()) @unique
  pessoas Int
  funcionarioId Int
  funcionario funcionario @relation(fields: [funcionarioId], references: [id])
  pedidos pedido[]
  status String
}

model pedido{
  id Int @id @default(autoincrement()) @unique
  nome_cliente String
  mesaId Int
  data DateTime
  valor_total Int
  funcionarioId Int
  funcionario funcionario @relation(fields: [funcionarioId], references: [id])
  mesa mesa @relation(fields: [mesaId], references: [id])
  relatorioId Int
  relatorio relatorio @relation(fields: [relatorioId], references: [id])
  produtos produto[]
  status String
}

model relatorio{
  id Int @id @default(autoincrement()) @unique
  total_pedidos Int
  receita Int
  pedidos pedido[]
  funcionarios funcionario[]
}

